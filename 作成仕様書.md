# インディーズバンド公式サイト — コーディングエージェント用仕様書

> **用途**: コーディングエージェント/開発者に渡して、そのまま実装に着手できるようにするための仕様書（Markdown）です。

## 0) 要約

* **サイト名**: swimmin' parade
* **URL / ドメイン**: 未定（例: `https://example-band.jp`）
* **ページ構成**: Home(`/`), Members(`/members`), Releases(`/releases`), Contact(`/contact`)
* **ホスティング/デプロイ**: **Vercel（固定）**
* **公式リンク**:

  * X: [https://x.com/swipara2023?s=21](https://x.com/swipara2023?s=21)
  * リリース集約（LinkCloud）: [https://linkcloud.mu/2cd4e67c](https://linkcloud.mu/2cd4e67c)
  * MV: [https://youtu.be/4aaufut-Uww?si=6WRR6nDznC9BXo38](https://youtu.be/4aaufut-Uww?si=6WRR6nDznC9BXo38)
* **トーン**: **ポップ／青×白基調**。明るくフレッシュ、余白たっぷり、丸みと遊び心のあるUI。
* **KPI**: 音源への遷移率（Spotify/Apple/Bandcamp/YouTube）、お問い合わせ送信率、Lighthouse Performance/Accessibility 90+.
* **公式リンク**:

  * X: [https://x.com/swipara2023?s=21](https://x.com/swipara2023?s=21)
  * リリース集約（LinkCloud）: [https://linkcloud.mu/2cd4e67c](https://linkcloud.mu/2cd4e67c)
  * MV: [https://youtu.be/4aaufut-Uww?si=6WRR6nDznC9BXo38](https://youtu.be/4aaufut-Uww?si=6WRR6nDznC9BXo38)
* **トーン**: ダーク/ミニマル/ネオンアクセント。無駄を削ぎ落したタイポとカバーアートを主役に。
* **KPI**: 音源への遷移率（Spotify/Apple/Bandcamp/YouTube）、お問い合わせ送信率、Lighthouse Performance/Accessibility 90+。

---

## 1) ゴール & スコープ

### 1.1 ゴール

* バンドの世界観を“かっこよく”一瞬で伝える。
* 最新リリースへ迷わず導線。
* メンバー情報と連絡先が直感的に見つかる。

### 1.2 スコープ（今回｜**静的サイト前提**）

* **完全静的サイト**（サーバーレス/SSRなし）。
* 4ページ: Home(`/`), Members(`/members`), Releases(`/releases`), Contact(`/contact`)。
* 音源埋め込み（Spotify/YouTube など）は**クライアント側の埋め込み**のみ。
* お問い合わせは **外部フォームサービス**（例: Formspree/Netlify Forms） or `mailto:` を採用。

### 1.3 非スコープ（将来拡張候補）

* ライブスケジュール（外部カレンダー埋め込みは可）、EC、マガジン/ニュース、英語版など。

---

## 2) 技術スタック（推奨｜静的）

* **Astro（静的出力）** + **TypeScript**

  * 「Zero JS by default」、必要箇所のみ Islands で JS を読み込む。
* **Tailwind CSS**（ユーティリティ中心）
* UI: **shadcn/ui（React islands内で必要分のみ）**、アイコン: **lucide-react**（必要時）
* 画像: Astro Image（最適化）
* Lint/Format: ESLint + Prettier
* デプロイ: **Vercel（固定）**（Preview/Production。ブランチ: `main`→Production、PR→Preview）

> 代替: Eleventy（11ty）+ Nunjucks でも可（同等の要件を満たすこと）。

---

* **Next.js 14 (App Router)** + **TypeScript**
* **Tailwind CSS** + **shadcn/ui**（必要なUIのみ）
* **Framer Motion**（トランジション/アニメ）
* アイコン: **lucide-react**
* 画像最適化: `next/image`
* Lint/Format: ESLint + Prettier
* テスト: Playwright（E2E）/ Vitest（任意）
* デプロイ: Vercel（Preview/Production）

> 代替: Nuxt 3 + TypeScript + UnoCSS でもOK（ただし同等要件を満たすこと）。

---

## 3) デザイン方針（ポップ／青×白）

### 3.1 ビジュアル原則

* **白ベース**に**爽やかなブルー**を主役に。影と余白で軽やかに。
* 角丸は **rounded-2xl** を基調に、カードはふんわりシャドウ。
* イラスト/ステッカー風バッジ、ピル型チップで“ポップ”を演出。
* モーションは**やわらかいバウンス**（200–350ms、過剰にしない）。

### 3.2 ブランド（青白パレット）

* **色**（Tailwind 相当）

  * 背景: `#F7FAFF`（`slate-50`に近い）
  * サーフェス: `#FFFFFF`
  * プライマリ: `#2563EB`（`blue-600`）
  * プライマリ淡色: `#DBEAFE`（`blue-100`）
  * アクセント（サブ）: `#38BDF8`（`sky-400`）
  * テキスト: `#0F172A`（`slate-900`）
  * 枠線/ディバイダ: `#E5E7EB`（`gray-200`）
* **タイポ**

  * 見出し: *Poppins* or *Outfit*（fallback: system-ui, Helvetica）
  * 本文/日本語: *Noto Sans JP*（fallback: sans-serif）
  * 見出しは太め（600–700）、字間やや広め。
* **ロゴ/ワードマーク**: 青系1–2色。SVG推奨。

### 3.3 レイアウト/ナビ

* ヘッダー: 白背景 + 薄いブラー。スクロール時にドロップシャドウを付与。
* ナビリンクは **ピル型**ホバー（背景 `blue-100`）と下線アニメ。
* フッターは淡色帯 + SNS アイコン（青トーン）。

### 3.4 コンポーネント表現

* **ボタン**: グラデ（`from-blue-600 to-sky-500`）/ソリッド/ゴーストの3種。角丸 9999。
* **カード**: 角丸 2xl、`shadow-lg`。ホバーで微スケール + 影強化。
* **チップ/タグ**: ピル + 小アイコン（lucide）。
* **デコ**: 斜めストライプ/水玉/波線をアクセントに微量。

### 3.5 レスポンシブ

* ブレークポイント: `sm 640`, `md 768`, `lg 1024`, `xl 1280`。
* 画像は `sizes` を丁寧に設定。モバイルは1カラム中心。

### 3.6 アクセシビリティ

* コントラスト AA。青の上の白テキストは `blue-600` 以上で使用。
* フォーカスリングは `ring-4 ring-blue-300` を明示。

## 4) ページ要件

### 4.1 Home `/`

**目的**: 世界観の提示と最新リリースへの導線。

* **HERO**: 全幅、静止画 or ループ動画（無音/自動/ミュート・※ユーザー操作で再生が望ましい）。

  * タイトル（バンド名）、短いタグライン（1行）。
  * CTA: 「最新リリースを聴く」→ `/releases#latest`。
* **Latest Release セクション**

  * ジャケット画像、リリース名、年、短いコピー。
  * 再生（**埋め込み iframe**）/配信リンクボタン（Spotify/Apple/Bandcamp/YouTube）。
* **メンバー紹介ティーザー**（3–4枚サムネ）→ `/members`。
* **メール購読/連絡導線** → `/contact`。

### 4.2 Members `/members`

* **グリッド**（2–4列）。各カードに：

  * 写真、名前、パート。
  * ホバー/タップで軽微なトランジション。クリックで **モーダル（React island）**。
* **URLハッシュ**でメンバー個別モーダル直リンク対応（例: `/members#saya`）。

### 4.3 Releases `/releases`

* **グリッド**（年代降順）。カード要素：

  * ジャケ写、タイトル、年、タイプ（Album/EP/Single）。
  * クリック→ **モーダル（React island）** または別ページ（静的生成）

    * カバー大、配信リンクボタン群。
    * 埋め込み（Spotify/YouTube iframe）
    * トラックリスト
    * クレジット（任意）
* **フィルタ**（任意）: 年/タイプ（クライアントサイドで実装）。
* ページ先頭に **最新**アンカー（`#latest`）。

### 4.4 Contact `/contact`

* **外部フォームサービス**を利用。推奨:

  * Formspree（無料枠あり）または Netlify Forms。
  * 代替として `mailto:` リンク（ただし UX/スパム面で非推奨）。
* フォーム項目: 名前、メール、本文（300文字以上可）。
* スパム対策: **ハニーポット** + 外部サービスの bot 対策に準拠。
* 送信後: **同ページ内**でサンクスメッセージ（JS最小限）。

---

## 5) データモデル（TypeScript）

```ts
export type Member = {
  id: string; // slug
  name: string;
  role: string; // e.g., Vocal/Gt
  photo: string; // /images/members/xxx.jpg
  bio?: string;
  socials?: { instagram?: string; x?: string; site?: string };
};

export type Track = { no: number; title: string; length?: string };

export type Release = {
  id: string; // slug
  title: string;
  year: number;
  type: 'Album' | 'EP' | 'Single';
  cover: string; // /images/releases/xxx.jpg
  embed?: { spotify?: string; youtube?: string };
  links?: { spotify?: string; apple?: string; bandcamp?: string; youtube?: string };
  tracks?: Track[];
  credits?: string[];
  isLatest?: boolean;
};
```

> 参照データは **ビルド時**に取り込む（Astro Content Collections / ローカル JSON/TS）。

---

```ts
export type Member = {
  id: string; // slug
  name: string;
  role: string; // e.g., Vocal/Gt
  photo: string; // /images/members/xxx.jpg
  bio?: string;
  socials?: { instagram?: string; x?: string; site?: string };
};

export type Track = { no: number; title: string; length?: string };

export type Release = {
  id: string; // slug
  title: string;
  year: number;
  type: 'Album' | 'EP' | 'Single';
  cover: string; // /images/releases/xxx.jpg
  embed?: { spotify?: string; youtube?: string };
  links?: { spotify?: string; apple?: string; bandcamp?: string; youtube?: string };
  tracks?: Track[];
  credits?: string[];
  isLatest?: boolean;
};
```

> 参照データは `/data/members.ts`, `/data/releases.ts` に配置。

---

## 6) 情報設計（サンプル・プレースホルダー）

```ts
// data/members.ts
export const members: Member[] = [
  { id: 'reo-kambayashi', name: '神林励旺', role: 'Vocal/Guitar', photo: '/images/members/reo.jpg', bio: 'ギターボーカル。' },
  { id: 'takeru-kato', name: '加藤豪流', role: 'Guitar', photo: '/images/members/takeru.jpg', bio: 'ギター。' },
  { id: 'souto-kurosawa', name: '黒沢奏登', role: 'Bass', photo: '/images/members/souto.jpg', bio: 'ベース。' },
  { id: 'sohei-nagase', name: '長瀬颯平', role: 'Drums', photo: '/images/members/sohei.jpg', bio: 'ドラム。' },
];

// data/releases.ts
export const releases: Release[] = [
  {
    id: 'latest-single',
    title: '（曲名未定）',
    year: 2025,
    type: 'Single',
    cover: '/images/releases/latest-single.jpg',
    embed: { youtube: 'https://youtu.be/4aaufut-Uww?si=6WRR6nDznC9BXo38' },
    links: {
      youtube: 'https://youtu.be/4aaufut-Uww?si=6WRR6nDznC9BXo38'
      // 他プラットフォームは LinkCloud: https://linkcloud.mu/2cd4e67c
    },
    isLatest: true
  }
];
```

---

## 7) 主要コンポーネント

* `SiteHeader`（ナビ/モバイルドロワー）
* `SiteFooter`（SNS/コピーライト）
* `Hero`（Home）
* `ReleaseCard` / `ReleaseModal`
* `MemberCard` / `MemberModal`
* `AudioEmbed`（Spotify/YouTube 切替対応）
* `Button` バリアント（primary/ghost/link）

> shadcn/ui の Dialog/Sheet/Card/Button をベースにカスタム。

---

## 8) SEO / メタ / 構造化データ

* 各ページで `<title>`/`meta description`/OG/Twitter を設定（Astro の `astro:head`）。
* **構造化データ（JSON-LD）**:

  * Top: `MusicGroup`
  * 各リリース: `MusicAlbum` or `MusicRelease`

```json
{
  "@context": "https://schema.org",
  "@type": "MusicGroup",
  "name": "バンド名",
  "url": "https://example-band.jp",
  "sameAs": [
    "https://x.com/swipara2023?s=21",
    "https://youtu.be/4aaufut-Uww?si=6WRR6nDznC9BXo38",
    "https://linkcloud.mu/2cd4e67c"
  ]
}
```

* OG画像はビルド時生成スクリプト（satori/`@vercel/og` の静的レンダ）または手動作成。

---

## 9) パフォーマンス / 品質基準（Definition of Done｜静的）

* Lighthouse: **Performance/Accessibility/Best Practices/SEO ≥ 90**（モバイル）
* LCP ≤ 2.5s（Slow 4G/モバイル端末）、CLS < 0.1
* 画像は Astro Image、`loading="lazy"`、Hero のみ優先読み込み。
* Axe で重大アクセシビリティ違反 0。
* E2E（主要フロー）: Home → 最新リリース再生 → Contact 送信（外部フォーム）

---

## 10) フォーム実装（Contact｜静的）

* 外部フォームサービス利用（例）:

  * **Formspree**: `action="https://formspree.io/f/<form_id>"`、`method="POST"`
  * **Netlify Forms**: `netlify` 属性をフォームに付与し、ビルド時に検出。
* バリデーション: HTML5 + 軽量クライアント検証（Zodは任意、バンドル肥大に注意）。
* スパム: hidden フィールド（ハニーポット）+ サービス側の保護。
* 送信後: ページ内トースト/メッセージ表示（JavaScript最小）。

---

## 11) ディレクトリ構成（例｜Astro 静的）

```
src/
  pages/
    index.astro            # Home
    members.astro
    releases.astro
    contact.astro
  components/
    SiteHeader.astro
    SiteFooter.astro
    Hero.astro
    ReleaseCard.astro
    ReleaseModal.jsx       # React island（必要時）
    MemberCard.astro
    MemberModal.jsx        # React island（必要時）
    AudioEmbed.astro
  content/
    members/*.json         # または .md / コンテンツコレクション
    releases/*.json
assets/
  brand/logo.svg
  images/members/*
  images/releases/*
styles/
  globals.css
```

app/
(marketing)/
page.tsx            # Home
members/
page.tsx
releases/
page.tsx
contact/
page.tsx
api/
contact/route.ts    # API
components/
ui/...
hero.tsx
release-card.tsx
release-modal.tsx
member-card.tsx
member-modal.tsx
audio-embed.tsx
data/
members.ts
releases.ts
public/
brand/logo.svg
images/members/*
images/releases/*
styles/
globals.css

````

---

## 12) アニメーション方針（最小 JS｜ポップ）
- 基本は CSS（`transition`/`transform`）。
- ホバー: `scale(1.01)` + `translateY(-2px)`（120–180ms）。
- クリック/エンター: 押し込み `scale(0.98)`（80ms）。
- セクションのフェードアップ: 20–30px 上昇 + フェード（220–280ms、ease-out、**Reduce Motion** 準拠）。
- 必要箇所のみ **Framer Motion** を island で使用（モーダル/ヒーロー見出しなど）。

## 13) SNS/埋め込みポリシー
- Spotify/YouTube は**同時に1つのみ**自動再生可。
- 外部埋め込みは `loading="lazy"`。
- 埋め込みがブロックされた場合のフォールバックリンクを必ず配置。

---

## 14) セットアップ & コマンド（Astro）
```bash
# 初期化（Astro）
npm create astro@latest indie-band -- --template basics
cd indie-band

# Tailwind
npx astro add tailwind

# フォント（例）: Google Fonts を `<link>` or self-host
# 見出し:Poppins/Outfit、日本語:Noto Sans JP

# （必要時）React/Icons/UI
npx astro add react
npm i lucide-react

# 開発
npm run dev

# ビルド（静的）
npm run build
````

### Tailwind トークン（例）

`tailwind.config.cjs`

```js
module.exports = {
  theme: {
    extend: {
      colors: {
        brand: {
          DEFAULT: '#2563EB',
          light: '#DBEAFE',
          sky: '#38BDF8',
        },
      },
      borderRadius: { '2xl': '1rem' },
      boxShadow: { pop: '0 10px 20px rgba(37, 99, 235, 0.15)' },
    },
  },
};
```

---

## 15) 受け入れテスト（抜粋）

* [ ] `/` の Hero が 1秒以内に初回描画される（ローカル、モバイルエミュ）。
* [ ] `/releases#latest` で最新リリースが viewport 内にスクロールされる。
* [ ] `ReleaseCard` クリックで詳細モーダルが開き、Embed が表示される。
* [ ] キーボードのみでナビゲーション可能（Tab順が論理的）。
* [ ] `/contact` でバリデーションエラー表示/成功トーストが機能。

---

## 16) コンテンツ・プレースホルダー（初期文案）

* キャッチ: 「都市のノイズを、光に変える。」
* Home 最新リリース紹介: 80–120字。
* メンバー各自の一言: 40–80字。
* Contact 説明: 60–100字（取材・出演依頼など）。

---

## 17) 環境変数（必要時）

```
NEXT_PUBLIC_SITE_URL=https://example-band.jp
RESEND_API_KEY=xxxxxxxx
CONTACT_TO=press@example-band.jp
```

---

## 18) 将来拡張（オプション）

* i18n（`next-intl`）で EN/JA 切替。
* CMS 連携（Contentlayer/Sanity/Hygraph）
* PWA 化（`next-pwa`）
* ライブスケジュール（ICS/Google カレンダー埋め込み）

---

## 19) 定義の確認（Done の定義）

* デザイン/実装/テストが上記基準を満たし、**Vercel の Production URL** が共有可能。
* Readme にセットアップ手順と編集方法（画像差し替え/データ更新/デプロイ手順）が記載済み。

---

## 20) ToDo（実装順案）

1. プロジェクト初期化・デザイントークン（色/フォント）設定
2. レイアウト/ヘッダー/フッター
3. Home（Hero → Latest Release）
4. Releases（グリッド→モーダル/詳細）
5. Members（グリッド→モーダル）
6. Contact（外部フォーム連携）
7. SEO/OG/構造化データ
8. アクセシビリティ/パフォーマンス調整
9. **Vercel デプロイ**（GitHub 連携→Preview→Production）
10. E2E テスト → 微調整 → リリース

---

## 21) デプロイ設定（Vercel）

* **Framework**: Astro（静的）
* **Build Command**: `npm run build`
* **Output Directory**: `dist`
* **環境変数**: 必要時（例: `NEXT_PUBLIC_SITE_URL` → `PUBLIC_SITE_URL` 等に合わせる）。
* **Cache/Headers**: 画像に長期 Cache（`Cache-Control: public, max-age=31536000, immutable`）。HTML は短期。
* **Preview/Prod 運用**: PR ごとに Preview。`main` へのマージで自動 Production。
* **ドメイン**: `example-band.jp` を Vercel のプロジェクトに割り当て。
